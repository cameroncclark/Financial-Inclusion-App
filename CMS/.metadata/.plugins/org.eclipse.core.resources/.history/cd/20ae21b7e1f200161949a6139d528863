package Model;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Observable;
import java.util.Observer;
import java.util.Random;

import javax.swing.plaf.synth.SynthScrollBarUI;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;

import ContentObjects.Category;

public class Model extends Observable {
	final String _PATH = "../../FinancialInclusionApplication/www/content/";
	CategoriesModel catModel;
	NumbersModel numbersModel;

	public Model() {
		catModel = new CategoriesModel(this);
		numbersModel = new NumbersModel(this);
		
	}

	public String[] selectCategories() {
		return catModel.selectCategories();
	}

	// Need check to see if category name is in there
	public void addCategory(String categoryName) {
		catModel.addCategory(categoryName);
	}

	public void editCategory(String oldCat, String newCat) {
		catModel.editCategory(oldCat, newCat);
	}

	public void deleteCategory(String selectedCat) {
		catModel.deleteCategory(selectedCat);
	}

	public void setModelObserver(Observer o) {
		this.addObserver(o);
	}
	
	/**
	 * This returns the JSON file as a string.
	 * 
	 * @param filePath
	 * @return {@link String}
	 * @throws IOException
	 */
	private String getJSONString(String filePath) throws IOException {
		File file = new File(_PATH + filePath);
		FileInputStream fis = null;

		fis = new FileInputStream(file);

		StringBuilder builder = new StringBuilder();
		int ch;
		while ((ch = fis.read()) != -1) {
			builder.append((char) ch);
		}

		fis.close();

		return builder.toString();
	}
	
	public void changed(){
		setChanged();
		notifyObservers();
	}
}
